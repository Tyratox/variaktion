{"version":3,"sources":["../spray.js"],"names":["spray","selector","minRotation","arguments","length","undefined","maxRotation","minScale","minX","maxX","minY","maxY","el","document","querySelector","rows","querySelectorAll","dots","rotation","Math","random","scale","x","y","style","transform","concat","_spray_row","rowIndex","callback","row","top","parseFloat","getAttribute","leftFrom","diff","_spray_dot","dotIndex","cb","dot","createElement","classList","add","left","appendChild","requestAnimationFrame","push","backgroundColor","forEach","remove","addEventListener","setTimeout"],"mappings":"2FAAA,IAAMA,EAAQ,SACZC,GAQG,IAPHC,EAOGC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAPY,GACfG,EAMGH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GANW,GACdI,EAKGJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GALQ,GACXK,EAIGL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAJK,GACRM,EAGGN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHI,EACPO,EAEGP,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAFK,GACRQ,EACGR,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADI,EAEDS,EAAKC,SAASC,cAAcb,GAC5Bc,EAAOH,EAAGI,iBAAiB,YAC3BC,EAAO,GAEPC,EAAWhB,GAAeI,EAAcJ,GAAeiB,KAAKC,SAC5DC,EAAQd,GAAY,EAAMA,GAAYY,KAAKC,SAC3CE,EAAId,GAAQC,EAAOD,GAAQW,KAAKC,SAChCG,EAAIb,GAAQC,EAAOD,GAAQS,KAAKC,SAEtCR,EAAGY,MAAMC,UAAT,aAAAC,OAAkCJ,EAAlC,OAAAI,OAAyCH,EAAzC,eAAAG,OAAwDR,EAAxD,eAAAQ,OAA8EL,EAA9E,KAEA,IAAMM,EAAa,SAAbA,EAAcC,EAAUC,GAC5B,GAAID,GAAYb,EAAKX,OACnByB,QADF,CAKA,IAAMC,EAAMf,EAAKa,GACXG,EAAMC,WAAWF,EAAIG,aAAa,aAClCC,EACJF,WAAWF,EAAIG,aAAa,mBAAqC,EAAhBd,KAAKC,SAGlDe,EADJH,WAAWF,EAAIG,aAAa,iBAAmC,EAAhBd,KAAKC,SAChCc,GAEH,SAAbE,EAAcC,EAAUC,GAC5B,GAAID,EAAWF,EACbG,QADF,CAKA,IAAMC,EAAM1B,SAAS2B,cAAc,OACnCD,EAAIE,UAAUC,IAAI,OAClBH,EAAIf,MAAMO,IAAMA,EAAM,IACtBQ,EAAIf,MAAMmB,KAAOT,EAAWG,EAAW,IAEvCP,EAAIc,YAAYL,GAChBM,uBAAsB,WAAA,OAAMN,EAAIE,UAAUC,IAAI,cAC9CzB,EAAK6B,KAAKP,GAEVM,uBAAsB,WAAA,OAAMT,EAAWC,EAAW,EAAGC,OAGvDF,CAAW,GAAG,WAAA,OACZS,uBAAsB,WAAA,OAAMlB,EAAWC,EAAW,EAAGC,WAIzDF,EAAW,GAAG,WACZf,EAAGY,MAAMuB,gBAAkB,OAC3B9B,EAAK+B,SAAQ,SAAAT,GAAG,OAAIA,EAAIU,gBAI5BpC,SAASqC,iBAAiB,oBAAoB,WAAA,OAC5CC,YAAW,WACTnD,EAAM,gBAAiB,GAAI,EAAG,IAAM,GAAI,GAAI,GAAI,GAChDA,EAAM,eAAgB,EAAG,GAAI,GAAK,EAAG,GAAI,EAAG,MAC3C","sourcesContent":["const spray = (\n  selector,\n  minRotation = -40,\n  maxRotation = 40,\n  minScale = 0.8,\n  minX = -50,\n  maxX = 0,\n  minY = -50,\n  maxY = 0\n) => {\n  const el = document.querySelector(selector);\n  const rows = el.querySelectorAll(\".dot-row\");\n  const dots = [];\n\n  const rotation = minRotation + (maxRotation - minRotation) * Math.random();\n  const scale = minScale + (1.0 - minScale) * Math.random();\n  const x = minX + (maxX - minX) * Math.random();\n  const y = minY + (maxY - minY) * Math.random();\n\n  el.style.transform = `translate(${x}%, ${y}%) rotateZ(${rotation}deg) scale(${scale})`;\n\n  const _spray_row = (rowIndex, callback) => {\n    if (rowIndex >= rows.length) {\n      callback();\n      return;\n    }\n\n    const row = rows[rowIndex];\n    const top = parseFloat(row.getAttribute(\"data-top\"));\n    const leftFrom =\n      parseFloat(row.getAttribute(\"data-left-from\")) - Math.random() * 5;\n    const leftTo =\n      parseFloat(row.getAttribute(\"data-left-to\")) + Math.random() * 5;\n    const diff = leftTo - leftFrom;\n\n    const _spray_dot = (dotIndex, cb) => {\n      if (dotIndex > diff) {\n        cb();\n        return;\n      }\n\n      const dot = document.createElement(\"div\");\n      dot.classList.add(\"dot\");\n      dot.style.top = top + \"%\";\n      dot.style.left = leftFrom + dotIndex + \"%\";\n\n      row.appendChild(dot);\n      requestAnimationFrame(() => dot.classList.add(\"visible\"));\n      dots.push(dot);\n\n      requestAnimationFrame(() => _spray_dot(dotIndex + 5, cb));\n    };\n\n    _spray_dot(0, () =>\n      requestAnimationFrame(() => _spray_row(rowIndex + 1, callback))\n    );\n  };\n\n  _spray_row(0, () => {\n    el.style.backgroundColor = \"#000\";\n    dots.forEach(dot => dot.remove());\n  });\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", () =>\n  setTimeout(() => {\n    spray(\".spray div.v\", -40, 0, 0.8, -15, 0, -15, 0);\n    spray(\".spray div.a\", 0, 40, 0.8, 0, 15, 0, 15);\n  }, 1000)\n);\n"]}